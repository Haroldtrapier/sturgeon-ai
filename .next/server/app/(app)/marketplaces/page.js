(()=>{var e={};e.id=298,e.ids=[298],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},4242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(67096),a=r(16132),i=r(37284),n=r.n(i),o=r(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["(app)",{children:["marketplaces",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29070)),"/home/runner/work/sturgeon-ai/sturgeon-ai/app/(app)/marketplaces/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,66611)),"/home/runner/work/sturgeon-ai/sturgeon-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/work/sturgeon-ai/sturgeon-ai/app/(app)/marketplaces/page.tsx"],u="/(app)/marketplaces/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/marketplaces/page",pathname:"/marketplaces",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},59425:(e,t,r)=>{Promise.resolve().then(r.bind(r,32711))},87169:(e,t,r)=>{Promise.resolve().then(r.bind(r,86474))},85178:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,53579,23)),Promise.resolve().then(r.t.bind(r,30619,23)),Promise.resolve().then(r.t.bind(r,81459,23)),Promise.resolve().then(r.t.bind(r,13456,23)),Promise.resolve().then(r.t.bind(r,50847,23)),Promise.resolve().then(r.t.bind(r,57303,23))},32711:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(53854),a=r(34218),i=r(63165),n=r(24769),o=r(7857);function l(){let[e,t]=(0,a.useState)("sam"),[r,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1);async function m(){if(r.trim()){p(!0);try{let t=await fetch(`/api/marketplaces/${e}?q=${encodeURIComponent(r)}`),s=await t.json();if(!t.ok)throw Error(s.error||"Failed");c(s.results??[])}catch(e){console.error(e),alert("Error searching marketplace")}finally{p(!1)}}}async function x(e){try{let t=await fetch("/api/opportunities/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,agency:e.agency,source:e.source,externalId:e.id,status:"watchlist",metadata:{}})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed")}alert("Saved to opportunities")}catch(e){console.error(e),alert("Error saving opportunity")}}return(0,s.jsxs)("div",{className:"space-y-6 p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-slate-50",children:"Marketplaces"}),s.jsx(i.Zb,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-slate-300",children:"Unified search across SAM, Unison Marketplace, GovWin, and GovSpend"}),(0,s.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(n.I,{placeholder:"Search keywords (NAICS, PSC, or capabilities)…",value:r,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&m()})}),(0,s.jsxs)("select",{className:"flex h-10 w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-50",value:e,onChange:e=>t(e.target.value),children:[s.jsx("option",{value:"sam",children:"SAM.gov"}),s.jsx("option",{value:"govwin",children:"GovWin"}),s.jsx("option",{value:"govspend",children:"GovSpend"}),s.jsx("option",{value:"unison",children:"Unison"})]})]}),s.jsx(o.z,{onClick:m,disabled:u||!r.trim(),children:u?"Searching…":"Search"})]})}),(0,s.jsxs)(i.Zb,{className:"p-6",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-50",children:"Results"}),0===d.length?s.jsx("p",{className:"text-sm text-slate-400",children:"No results yet. Try searching above."}):s.jsx("div",{className:"space-y-3",children:d.map(e=>(0,s.jsxs)("div",{className:"flex items-start justify-between rounded-lg border border-slate-800 bg-slate-900/70 p-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-slate-50",children:e.title}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-slate-400",children:[e.agency||"No agency"," • ",e.source.toUpperCase()," • ",e.status]})]}),s.jsx(o.z,{variant:"ghost",size:"sm",onClick:()=>x(e),className:"ml-3",children:"Save"})]},`${e.source}-${e.id}`))})]})]})}},86474:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(53854),a=r(66609);function i({children:e,session:t}){return s.jsx(a.SessionProvider,{session:t,children:e})}},7857:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(53854),a=r(34218),i=r(48225),n=r(82457),o=r(56370);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-gray-300 bg-white hover:bg-gray-100",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},d)=>{let c=a?i.g7:"button";return s.jsx(c,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},63165:(e,t,r)=>{"use strict";r.d(t,{Zb:()=>n});var s=r(53854),a=r(34218),i=r(56370);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-white shadow-sm",e),...t}));n.displayName="Card";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-gray-600",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent"},24769:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(53854),a=r(34218),i=r(56370);let n=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));n.displayName="Input"},56370:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(29395),a=r(1088);function i(...e){return(0,a.m6)((0,s.W)(e))}},29070:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var s=r(95153);let a=(0,s.createProxy)(String.raw`/home/runner/work/sturgeon-ai/sturgeon-ai/app/(app)/marketplaces/page.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default,l=o},66611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>u});var s=r(4656),a=r(94020),i=r(95153);let n=(0,i.createProxy)(String.raw`/home/runner/work/sturgeon-ai/sturgeon-ai/components/SessionProvider.tsx`),{__esModule:o,$$typeof:l}=n,d=n.default;var c=r(59757);r(67272);let u={title:"Sturgeon AI - Government Contracting",description:"AI-powered government contracting platform"};async function p({children:e}){let t=await (0,a.getServerSession)(c.L);return s.jsx("html",{lang:"en",children:s.jsx("body",{children:s.jsx(d,{session:t,children:e})})})}},47770:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var s=r(58617);let a=(0,s.eI)("https://placeholder.supabase.co","placeholder-anon-key")},59757:(e,t,r)=>{"use strict";r.d(t,{L:()=>d,W:()=>c});var s=r(39448),a=r(49375),i=r(47770);r(96721);var n=r(62421),o=r.n(n);async function l(e,t){return o().compare(e,t)}process.env.JWT_SECRET,process.env.JWT_REFRESH_SECRET;let d={session:{strategy:"jwt"},pages:{signIn:"/login"},providers:[(0,a.Z)({clientId:process.env.GOOGLE_CLIENT_ID||"",clientSecret:process.env.GOOGLE_CLIENT_SECRET||""}),(0,s.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Invalid credentials");let{data:t,error:r}=await i.O.from("users").select("*").eq("email",e.email).single();if(r||!t||!t.password)throw Error("Invalid credentials");let s=await l(e.password,t.password);if(!s)throw Error("Invalid credentials");return{id:t.id,email:t.email,name:t.name,image:t.image}}})],callbacks:{session:async({token:e,session:t})=>(e&&(t.user.id=e.id,t.user.name=e.name,t.user.email=e.email,t.user.image=e.picture),t),jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e)}};async function c(){let{getServerSession:e}=await Promise.resolve().then(r.t.bind(r,94020,23));return e(d)}},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[514,617,321,208,315],()=>r(4242));module.exports=s})();