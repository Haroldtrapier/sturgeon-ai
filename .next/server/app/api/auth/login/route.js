"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},92274:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>m,originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>p,serverHooks:()=>A,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>P});var o={};s.r(o),s.d(o,{OPTIONS:()=>l,POST:()=>d});var t=s(10884),n=s(16132),a=s(21040),i=s(95798),u=s(58617);let c={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"};async function l(){return i.Z.json({},{headers:c})}async function d(e){try{let r=await e.json(),{email:s,password:o}=r;if(!s||!o)return i.Z.json({error:"Email and password are required"},{status:400,headers:c});let t=process.env.NEXT_PUBLIC_SUPABASE_URL,n=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!t||!n)return console.error("Missing Supabase environment variables"),i.Z.json({error:"Server configuration error. Please contact support."},{status:500,headers:c});let a=(0,u.eI)(t,n),{data:l,error:d}=await a.auth.signInWithPassword({email:s,password:o});if(d)return console.error("Supabase sign in error:",d),i.Z.json({error:d.message},{status:401,headers:c});return i.Z.json({success:!0,message:"Login successful!",user:{id:l.user?.id,email:l.user?.email},session:{access_token:l.session?.access_token,refresh_token:l.session?.refresh_token}},{status:200,headers:c})}catch(e){return console.error("Login error:",e),i.Z.json({error:e.message||"An unexpected error occurred"},{status:500,headers:c})}}let p=new t.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/home/runner/work/sturgeon-ai/sturgeon-ai/app/api/auth/login/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:A,headerHooks:m,staticGenerationBailout:P}=p,f="/api/auth/login/route";function v(){return(0,a.patchFetch)({serverHooks:A,staticGenerationAsyncStorage:g})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),o=r.X(0,[514,617,107],()=>s(92274));module.exports=o})();