(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{1744:function(e,t,s){Promise.resolve().then(s.bind(s,7926))},7926:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(7437),r=s(2265),n=s(9598),l=s(5831),i=s(3611);function o(){let[e,t]=(0,r.useState)("sam"),[s,o]=(0,r.useState)(""),[c,d]=(0,r.useState)([]),[u,f]=(0,r.useState)(!1);async function m(){if(s.trim()){f(!0);try{var t;let a=await fetch("/api/marketplaces/".concat(e,"?q=").concat(encodeURIComponent(s))),r=await a.json();if(!a.ok)throw Error(r.error||"Failed");d(null!==(t=r.results)&&void 0!==t?t:[])}catch(e){console.error(e),alert("Error searching marketplace")}finally{f(!1)}}}async function p(e){try{let t=await fetch("/api/opportunities/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,agency:e.agency,source:e.source,externalId:e.id,status:"watchlist",metadata:{}})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed")}alert("Saved to opportunities")}catch(e){console.error(e),alert("Error saving opportunity")}}return(0,a.jsxs)("div",{className:"space-y-6 p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-slate-50",children:"Marketplaces"}),(0,a.jsx)(n.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-slate-300",children:"Unified search across SAM, Unison Marketplace, GovWin, and GovSpend"}),(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(l.I,{placeholder:"Search keywords (NAICS, PSC, or capabilities)…",value:s,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&m()})}),(0,a.jsxs)("select",{className:"flex h-10 w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-50",value:e,onChange:e=>t(e.target.value),children:[(0,a.jsx)("option",{value:"sam",children:"SAM.gov"}),(0,a.jsx)("option",{value:"govwin",children:"GovWin"}),(0,a.jsx)("option",{value:"govspend",children:"GovSpend"}),(0,a.jsx)("option",{value:"unison",children:"Unison"})]})]}),(0,a.jsx)(i.z,{onClick:m,disabled:u||!s.trim(),children:u?"Searching…":"Search"})]})}),(0,a.jsxs)(n.Zb,{className:"p-6",children:[(0,a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-slate-50",children:"Results"}),0===c.length?(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"No results yet. Try searching above."}):(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,a.jsxs)("div",{className:"flex items-start justify-between rounded-lg border border-slate-800 bg-slate-900/70 p-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-slate-50",children:e.title}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-slate-400",children:[e.agency||"No agency"," • ",e.source.toUpperCase()," • ",e.status]})]}),(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>p(e),className:"ml-3",children:"Save"})]},"".concat(e.source,"-").concat(e.id)))})]})]})}},3611:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(7437),r=s(2265),n=s(4949),l=s(6061),i=s(1628);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-gray-300 bg-white hover:bg-gray-100",ghost:"hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:r,size:l,className:s})),ref:t,...d})});c.displayName="Button"},9598:function(e,t,s){"use strict";s.d(t,{Zb:function(){return l}});var a=s(7437),r=s(2265),n=s(1628);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-white shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-gray-600",s),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent"},5831:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var a=s(7437),r=s(2265),n=s(1628);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},1628:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(7042),r=s(4769);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[14,971,472,744],function(){return e(e.s=1744)}),_N_E=e.O()}]);