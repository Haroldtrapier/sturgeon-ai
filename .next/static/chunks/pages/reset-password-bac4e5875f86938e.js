(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{1173:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return t(4115)}])},4115:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var n=t(5893),l=t(7294),r=t(1163),a=t(8442);let d=(0,a.eI)("https://placeholder.supabase.co","placeholder-anon-key");function i(){let e=(0,r.useRouter)(),[s,t]=(0,l.useState)(""),[a,i]=(0,l.useState)(""),[u,o]=(0,l.useState)(!1),[c,m]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null),[h,f]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=async()=>{let{data:e}=await d.auth.getSession();e.session||p("Invalid or expired reset link."),m(!0)};e()},[]);let b=async t=>{if(t.preventDefault(),s!==a){p("Passwords do not match.");return}o(!0),p(null),f(null);let{data:n,error:l}=await d.auth.updateUser({password:s});if(o(!1),l){p(l.message);return}f("Password updated. You can now log in."),setTimeout(()=>e.push("/login"),2500)};return c?x&&!h?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,n.jsxs)("div",{className:"bg-white shadow-md rounded-xl px-8 py-6 text-slate-700",children:[(0,n.jsx)("p",{className:"text-red-600 mb-4",children:x}),(0,n.jsx)("a",{href:"/forgot-password",className:"text-blue-600 hover:underline",children:"Request a new reset link"})]})}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,n.jsxs)("div",{className:"w-full max-w-md bg-white shadow-md rounded-xl p-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-slate-900 mb-2",children:"Set a new password"}),(0,n.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"New password"}),(0,n.jsx)("input",{type:"password",required:!0,minLength:6,value:s,onChange:e=>t(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm password"}),(0,n.jsx)("input",{type:"password",required:!0,minLength:6,value:a,onChange:e=>i(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),x&&(0,n.jsx)("p",{className:"text-sm text-red-600 bg-red-50 border border-red-100 rounded-md px-3 py-2",children:x}),h&&(0,n.jsx)("p",{className:"text-sm text-green-700 bg-green-50 border border-green-100 rounded-md px-3 py-2",children:h}),(0,n.jsx)("button",{type:"submit",disabled:u,className:"w-full inline-flex justify-center items-center rounded-lg bg-blue-600 text-white font-medium py-2.5 hover:bg-blue-700 disabled:opacity-60",children:u?"Updating password...":"Update password"})]})]})}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,n.jsx)("div",{className:"bg-white shadow-md rounded-xl px-8 py-6 text-slate-700",children:"Checking reset linkâ€¦"})})}}},function(e){e.O(0,[774,177,888,179],function(){return e(e.s=1173)}),_N_E=e.O()}]);